<!DOCTYPE html>
<html>
<head>
<title>My Profile</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
font-family:Arial;
background:#020617;
color:white;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
}

.box{
background:#0f172a;
padding:30px;
border-radius:18px;
width:320px;
text-align:center;
}

img{
width:110px;
height:110px;
border-radius:50%;
object-fit:cover;
border:3px solid #22c55e;
}

input{
margin-top:10px;
}

button{
margin-top:15px;
padding:12px;
width:100%;
background:linear-gradient(45deg,#6366f1,#06b6d4);
border:none;
border-radius:10px;
color:white;
}
</style>
</head>

<body>

<div class="box">

<h2>üë§ My Profile</h2>

<img id="photo" src="https://via.placeholder.com/110">

<input type="file" onchange="uploadPhoto(event)">

<h3 id="name"></h3>
<p id="xp"></p>
<p id="streak"></p>

<button onclick="window.location='index.html'">Home</button>

</div>

<script>

let student = localStorage.getItem("studentName");
document.getElementById("name").innerHTML=student;

// xp
let xpData = JSON.parse(localStorage.getItem("xpData")) || {};
let xp = xpData[student] || 0;
document.getElementById("xp").innerHTML="‚≠ê XP: "+xp;

// streak
let streakData = JSON.parse(localStorage.getItem("streakData")) || {};
let streak = streakData[student] ? streakData[student].streak : 0;
document.getElementById("streak").innerHTML="üî• Streak: "+streak+" days";

// photo load
let photo = localStorage.getItem("photo_"+student);
if(photo){
document.getElementById("photo").src=photo;
}

function uploadPhoto(e){
let file = e.target.files[0];
let reader = new FileReader();
reader.onload=function(){
localStorage.setItem("photo_"+student,reader.result);
document.getElementById("photo").src=reader.result;
}
reader.readAsDataURL(file);
}

</script>

</body>
</html>
